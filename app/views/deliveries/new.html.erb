<h1>Registrar Entrega</h1>

<% if @materials.any? %>
  <%= form_with(model: [@recycler, @delivery], local: true) do |form| %>
    <div class="mb-3">
      <%= form.label :material_id, "Material" %>
      <!-- SelecciÃ³n de materiales -->
      <%= form.collection_select :material_id, @materials, :id, :name, { prompt: "Selecciona un material" }, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= form.label :date, "Fecha de Entrega" %>
      <%= form.date_field :date, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= form.label :quantity, "Cantidad" %>
      <%= form.number_field :quantity, class: "form-control", step: 0.1 %>
    </div>

    <%= form.submit "Registrar", class: "btn btn-primary" %>
  <% end %>
<% else %>
  <!-- Mensaje si no hay materiales disponibles -->
  <p>No hay materiales registrados para este reciclador. Por favor, agrega materiales antes de registrar una entrega.</p>
  <%= link_to "Agregar Material", new_recycler_material_path(@recycler), class: "btn btn-success" %>
<% end %>
